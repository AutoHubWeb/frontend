exports.id=539,exports.ids=[539],exports.modules={8420:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},405:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9404,23))},3256:(e,t,s)=>{Promise.resolve().then(s.bind(s,6770)),Promise.resolve().then(s.bind(s,8192))},5303:()=>{},6770:(e,t,s)=>{"use strict";s.d(t,{AppProviders:()=>l});var r=s(326),n=s(4976),a=s(1293),o=s(8192),i=s(2631),c=s(422),u=s(5957);function l({children:e}){return r.jsx(n.QueryClientProvider,{client:u.Eh,children:r.jsx(a.AuthProvider,{children:r.jsx(o.ThemeProvider,{defaultTheme:"light",storageKey:"ui-theme",children:(0,r.jsxs)(i.TooltipProvider,{children:[r.jsx(c.x,{}),e]})})})})}},8192:(e,t,s)=>{"use strict";s.d(t,{ThemeProvider:()=>o,useTheme:()=>i});var r=s(326),n=s(7577);let a=(0,n.createContext)({theme:"system",setTheme:()=>null});function o({children:e,defaultTheme:t="system",storageKey:s="ui-theme",...o}){let[i,c]=(0,n.useState)(t),[u,l]=(0,n.useState)(!1);return r.jsx(a.Provider,{...o,value:{theme:i,setTheme:e=>{u&&localStorage.setItem(s,e),c(e)}},children:e})}let i=()=>{let e=(0,n.useContext)(a);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},422:(e,t,s)=>{"use strict";s.d(t,{x:()=>T});var r=s(326),n=s(4097),a=s(7577),o=s(321),i=s(9360),c=s(4019),u=s(1867);let l=o.Provider,d=a.forwardRef(({className:e,...t},s)=>r.jsx(o.Viewport,{ref:s,className:(0,u.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));d.displayName=o.Viewport.displayName;let p=(0,i.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),h=a.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(o.Root,{ref:n,className:(0,u.cn)(p({variant:t}),e),...s}));h.displayName=o.Root.displayName,a.forwardRef(({className:e,...t},s)=>r.jsx(o.Action,{ref:s,className:(0,u.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=o.Action.displayName;let g=a.forwardRef(({className:e,...t},s)=>r.jsx(o.Close,{ref:s,className:(0,u.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(c.Z,{className:"h-4 w-4"})}));g.displayName=o.Close.displayName;let y=a.forwardRef(({className:e,...t},s)=>r.jsx(o.Title,{ref:s,className:(0,u.cn)("text-sm font-semibold",e),...t}));y.displayName=o.Title.displayName;let m=a.forwardRef(({className:e,...t},s)=>r.jsx(o.Description,{ref:s,className:(0,u.cn)("text-sm opacity-90",e),...t}));function T(){let{toasts:e}=(0,n.pm)();return(0,r.jsxs)(l,{children:[e.map(function({id:e,title:t,description:s,action:n,...a}){return(0,r.jsxs)(h,{...a,children:[(0,r.jsxs)("div",{className:"grid gap-1",children:[t&&r.jsx(y,{children:t}),s&&r.jsx(m,{children:s})]}),n,r.jsx(g,{})]},e)}),r.jsx(d,{})]})}m.displayName=o.Description.displayName},2631:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Tooltip:()=>c,TooltipContent:()=>l,TooltipProvider:()=>i,TooltipTrigger:()=>u});var r=s(326),n=s(7577),a=s(9313),o=s(1867);let i=a.zt,c=a.fC,u=a.xz,l=n.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(a.VY,{ref:n,sideOffset:t,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));l.displayName=a.VY.displayName},1293:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>u,useAuth:()=>c});var r=s(326),n=s(7577),a=s(4976),o=s(4681);let i=(0,n.createContext)(null),c=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},u=({children:e})=>{let[t,s]=(0,n.useState)(!0);(0,a.useQueryClient)();let[c,u]=(0,n.useState)(o.gN.getTokens()),[l,d]=(0,n.useState)(o.gN.getUser()),p=(0,o.f0)({onSuccess:e=>{u({accessToken:e.accessToken,refreshToken:e.refreshToken}),d(e.user)},onError:e=>{throw console.error("Login failed:",e),e}}),h=(0,o.mr)({onSuccess:e=>{u({accessToken:e.accessToken,refreshToken:e.refreshToken}),d(e.user)},onError:e=>{throw console.error("Register failed:",e),e}}),g=(0,o.aU)({onSuccess:()=>{u(null),d(null)}}),y=(0,o.ZU)({onSuccess:e=>{u({accessToken:e.accessToken,refreshToken:e.refreshToken})},onError:()=>{E()}}),m=(0,o.Gn)({onSuccess:e=>{o.gN.setUser(e),d(e)}}),T=(0,o.y8)(),E=(0,n.useCallback)(async()=>{await g.mutateAsync()},[g]),f=async()=>{if(!c?.refreshToken)return!1;try{return await y.mutateAsync(c.refreshToken),!0}catch(e){return!1}};(0,n.useEffect)(()=>{(async()=>{let e=o.gN.getTokens(),t=o.gN.getUser();if(e&&t){u(e),d(t);try{console.log("Auth initialized with stored tokens")}catch(e){console.error("Auth initialization failed:",e),await E()}}s(!1)})()},[E]);let S={user:l,tokens:c,login:async e=>{await p.mutateAsync(e)},register:async e=>{await h.mutateAsync(e)},logout:E,refreshToken:f,updateProfile:async e=>{await m.mutateAsync(e)},changePassword:async e=>{await T.mutateAsync(e)},isLoading:t||p.isPending||h.isPending,isAuthenticated:!!l&&!!c};return r.jsx(i.Provider,{value:S,children:e})}},4097:(e,t,s)=>{"use strict";s.d(t,{pm:()=>p});var r=s(7577);let n=0,a=new Map,o=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],u={toasts:[]};function l(e){u=i(u,e),c.forEach(e=>{e(u)})}function d({...e}){let t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:t});return l({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,t]=r.useState(u);return r.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},5137:(e,t,s)=>{"use strict";s.d(t,{gN:()=>a,x1:()=>u});var r=s(4739),n=s(8936);let a={getTokens:()=>null,setTokens:e=>{},getUser:()=>null,setUser:e=>{},clearAll:()=>{}},o={addAuthToken:e=>{if(!1!==e.withAuth){let t=a.getTokens();t?.accessToken&&(e.headers={...e.headers,Authorization:`Bearer ${t.accessToken}`})}return e},addDefaultHeaders:e=>(e.headers={...n.QN,...e.headers},e),logRequest:e=>(n.pg.enableLogging&&console.log(`ðŸ“¤ ${e.method} ${e.url}`,{data:e.data,params:e.params,headers:e.headers,baseURL:n.Hz.BASE_URL}),e)},i={logResponse:(e,t)=>(n.pg.enableLogging&&console.log(`ðŸ“¥ ${t.method} ${t.url}`,e),e),handleUnauthorized:(e,t)=>e};class c{constructor(e){this.abortControllers=new Map,this.config={baseURL:n.Hz.BASE_URL||"http://localhost:3001",timeout:n.Hz.TIMEOUT,retries:n.Hz.RETRY_ATTEMPTS,headers:n.QN,...e}}buildUrl(e,t){let s=e.startsWith("http")?e:`${this.config.baseURL}${e}`;if(t){let e=new URLSearchParams;Object.entries(t).forEach(([t,s])=>{null!=s&&e.append(t,String(s))});let r=e.toString();return r?`${s}?${r}`:s}return s}createAbortController(e){let t=this.abortControllers.get(e);t&&t.abort();let s=new AbortController;return this.abortControllers.set(e,s),s}async applyRequestInterceptors(e){let t={...e};if(t=o.addDefaultHeaders(t),t=o.addAuthToken(t),t=o.logRequest(t),this.config.requestInterceptors){for(let e of this.config.requestInterceptors)if(e.onRequest){let s=e.onRequest(t);t=s instanceof Promise?await s:s}}return t}async applyResponseInterceptors(e,t){let s={...e};if(s=i.logResponse(s,t),s=i.handleUnauthorized(s,t),this.config.responseInterceptors){for(let e of this.config.responseInterceptors)if(e.onResponse){let t=e.onResponse(s);s=t instanceof Promise?await t:t}}return s}async request(e){let t;let s=await this.applyRequestInterceptors(e),a=this.buildUrl(s.url,s.params),o=this.createAbortController(a),i=s.retries??this.config.retries??0;for(let e=0;e<=i;e++)try{e>0&&await new Promise(t=>setTimeout(t,(0,r.Pp)(e-1)));let t={method:s.method,headers:s.headers,signal:o.signal,credentials:"include",mode:"cors"};s.data&&"GET"!==s.method&&(t.body=JSON.stringify(s.data));let i=s.timeout??this.config.timeout??n.Hz.TIMEOUT,c=setTimeout(()=>o.abort(),i),u=await fetch(a,t);if(clearTimeout(c),this.abortControllers.delete(a),!u.ok)throw new r.aw(`HTTP ${u.status}: ${u.statusText}`,u.status,void 0,{url:a,method:s.method});let l=await u.json();return await this.applyResponseInterceptors(l,s)}catch(s){if(t=(0,r.Lr)(s),e===i||!(0,r.d4)(t,e,i))break;(0,r.H)(t,`API Request Retry ${e+1}`)}throw(0,r.H)(t,`API Request Failed after ${i+1} attempts`),t}async get(e,t,s){return this.request({method:"GET",url:e,params:t,...s})}async post(e,t,s){return this.request({method:"POST",url:e,data:t,...s})}async put(e,t,s){return this.request({method:"PUT",url:e,data:t,...s})}async patch(e,t,s){return this.request({method:"PATCH",url:e,data:t,...s})}async delete(e,t){return this.request({method:"DELETE",url:e,...t})}cancelRequest(e){let t=this.abortControllers.get(e);t&&(t.abort(),this.abortControllers.delete(e))}cancelAllRequests(){this.abortControllers.forEach((e,t)=>{e.abort()}),this.abortControllers.clear()}updateConfig(e){this.config={...this.config,...e}}}let u=new c},8936:(e,t,s)=>{"use strict";s.d(t,{Hz:()=>r,I:()=>o,MG:()=>a,Pn:()=>n,QN:()=>u,RZ:()=>c,U7:()=>i,pg:()=>l});let r={BASE_URL:process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:3001",AUTH_SERVICE_URL:process.env.NEXT_PUBLIC_AUTH_SERVICE_URL||"http://localhost:3001",TIMEOUT:3e4,RETRY_ATTEMPTS:3},n={AUTH:{LOGIN:"/api/v1/auth/login",REGISTER:"/api/v1/auth/register",LOGOUT:"/api/v1/auth/logout",REFRESH_TOKEN:"/api/v1/auth/refresh-token",USER:"/api/v1/auth/user",PROFILE:"/api/v1/auth/profile",CHANGE_PASSWORD:"/api/v1/auth/change-password"},TOOLS:{BASE:"/api/v1/tools",BY_ID:e=>`/api/v1/tools/${e}`,CATEGORIES:"/api/v1/tools/categories"},PURCHASES:{BASE:"/api/v1/purchases",BY_ID:e=>`/api/v1/purchases/${e}`,CHANGE_KEY:e=>`/api/v1/purchases/${e}/key`},PAYMENTS:{BASE:"/api/v1/payments",DEPOSIT:"/api/v1/deposit",HISTORY:"/api/v1/payments/history"},DISCOUNT_CODES:{VALIDATE:"/api/v1/discount-codes/validate",BASE:"/api/v1/discount-codes"},USER:{PROFILE:"/api/v1/user/profile",PASSWORD:"/api/v1/user/password",SETTINGS:"/api/v1/user/settings"},ADMIN:{USERS:"/api/v1/admin/users",TOOLS:"/api/v1/admin/tools",CATEGORIES:"/api/v1/admin/categories",VALIDATIONS:"/api/v1/admin/validations",STATISTICS:"/api/v1/admin/statistics"}},a={OK:200,CREATED:201,NO_CONTENT:204,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,CONFLICT:409,UNPROCESSABLE_ENTITY:422,INTERNAL_SERVER_ERROR:500,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503},o={AUTH_TOKENS:"auth_tokens",AUTH_USER:"auth_user",THEME:"ui-theme",LANGUAGE:"app-language"},i={AUTH:{USER:["auth","user"],TOKENS:["auth","tokens"]},TOOLS:{ALL:["tools"],BY_ID:e=>["tools",e],CATEGORIES:["tools","categories"]},PURCHASES:{ALL:["purchases"],BY_ID:e=>["purchases",e],USER_PURCHASES:["purchases","user"]},PAYMENTS:{ALL:["payments"],HISTORY:["payments","history"]},ADMIN:{USERS:["admin","users"],TOOLS:["admin","tools"],STATISTICS:["admin","statistics"],VALIDATIONS:["admin","validations"]}},c={NETWORK_ERROR:"Lá»—i káº¿t ná»‘i máº¡ng. Vui l\xf2ng kiá»ƒm tra káº¿t ná»‘i internet.",UNAUTHORIZED:"Phi\xean Ä‘Äƒng nháº­p Ä‘\xe3 háº¿t háº¡n. Vui l\xf2ng Ä‘Äƒng nháº­p láº¡i.",FORBIDDEN:"Báº¡n kh\xf4ng c\xf3 quyá»n thá»±c hiá»‡n thao t\xe1c n\xe0y.",NOT_FOUND:"Kh\xf4ng t\xecm tháº¥y dá»¯ liá»‡u y\xeau cáº§u.",SERVER_ERROR:"Lá»—i m\xe1y chá»§. Vui l\xf2ng thá»­ láº¡i sau.",VALIDATION_ERROR:"Dá»¯ liá»‡u kh\xf4ng há»£p lá»‡. Vui l\xf2ng kiá»ƒm tra láº¡i.",TIMEOUT_ERROR:"Y\xeau cáº§u qu\xe1 thá»i gian chá». Vui l\xf2ng thá»­ láº¡i.",UNKNOWN_ERROR:"Ä\xe3 xáº£y ra lá»—i kh\xf4ng x\xe1c Ä‘á»‹nh. Vui l\xf2ng thá»­ láº¡i."},u={"Content-Type":"application/json",Accept:"application/json"},l={isDevelopment:!1,isProduction:!0,apiBaseUrl:r.BASE_URL,enableLogging:"true"===process.env.NEXT_PUBLIC_DEBUG,enableMocking:"true"===process.env.NEXT_PUBLIC_ENABLE_MOCKING}},4739:(e,t,s)=>{"use strict";s.d(t,{H:()=>y,Lr:()=>p,Pp:()=>T,TW:()=>g,aw:()=>n,d4:()=>m});var r=s(8936);class n extends Error{constructor(e,t,s,r){super(e),this.name="ApiException",this.status=t,this.code=s,this.details=r,this.timestamp=new Date().toISOString()}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,details:this.details,timestamp:this.timestamp}}}class a extends n{constructor(e=r.RZ.NETWORK_ERROR){super(e,0),this.name="NetworkException"}}class o extends n{constructor(e=r.RZ.TIMEOUT_ERROR){super(e,0),this.name="TimeoutException"}}class i extends n{constructor(e,t){super(e,r.MG.UNPROCESSABLE_ENTITY),this.name="ValidationException",this.details=t}}class c extends n{constructor(e=r.RZ.UNAUTHORIZED){super(e,r.MG.UNAUTHORIZED),this.name="UnauthorizedException"}}class u extends n{constructor(e=r.RZ.FORBIDDEN){super(e,r.MG.FORBIDDEN),this.name="ForbiddenException"}}class l extends n{constructor(e=r.RZ.NOT_FOUND){super(e,r.MG.NOT_FOUND),this.name="NotFoundException"}}class d extends n{constructor(e=r.RZ.SERVER_ERROR,t=r.MG.INTERNAL_SERVER_ERROR){super(e,t),this.name="ServerException"}}let p=e=>{if(!navigator.onLine)return new a;if("AbortError"===e.name||"TIMEOUT"===e.code)return new o;if(e instanceof TypeError&&e.message.includes("fetch"))return new a;if(e.response){let{status:t,data:s}=e.response,a=s?.message||h(t);switch(t){case r.MG.UNAUTHORIZED:return new c(a);case r.MG.FORBIDDEN:return new u(a);case r.MG.NOT_FOUND:return new l(a);case r.MG.UNPROCESSABLE_ENTITY:return new i(a,s?.errors);case r.MG.INTERNAL_SERVER_ERROR:case r.MG.BAD_GATEWAY:case r.MG.SERVICE_UNAVAILABLE:return new d(a,t);default:return new n(a,t,s?.code,s?.details)}}return e instanceof n?e:new n(e.message||r.RZ.UNKNOWN_ERROR,r.MG.INTERNAL_SERVER_ERROR)},h=e=>{switch(e){case r.MG.BAD_REQUEST:return r.RZ.VALIDATION_ERROR;case r.MG.UNAUTHORIZED:return r.RZ.UNAUTHORIZED;case r.MG.FORBIDDEN:return r.RZ.FORBIDDEN;case r.MG.NOT_FOUND:return r.RZ.NOT_FOUND;case r.MG.UNPROCESSABLE_ENTITY:return r.RZ.VALIDATION_ERROR;case r.MG.INTERNAL_SERVER_ERROR:case r.MG.BAD_GATEWAY:case r.MG.SERVICE_UNAVAILABLE:return r.RZ.SERVER_ERROR;default:return r.RZ.UNKNOWN_ERROR}},g=e=>e instanceof c||e?.status===r.MG.UNAUTHORIZED||e?.response?.status===r.MG.UNAUTHORIZED,y=(e,t)=>{if(!r.pg.enableLogging)return;let s={timestamp:new Date().toISOString(),context:t||"API",error:e.toJSON(),userAgent:navigator.userAgent,url:window.location.href};r.pg.isDevelopment?(console.group(`ðŸš¨ API Error: ${e.name}`),console.error("Message:",e.message),console.error("Status:",e.status),console.error("Details:",e.details),console.error("Full Error:",s),console.groupEnd()):console.error("API Error:",s)},m=(e,t,s)=>!(t>=s)&&(!(e.status>=400)||!(e.status<500))&&!(e instanceof c)&&!(e instanceof u)&&(e instanceof d||e instanceof a||e instanceof o),T=e=>Math.min(1e3*Math.pow(2,e),1e4)},9303:(e,t,s)=>{"use strict";s.d(t,{Gn:()=>h,ZU:()=>p,aU:()=>d,f0:()=>u,mr:()=>l,y8:()=>g});var r=s(4976),n=s(119),a=s(1631),o=s(8936),i=s(4739),c=s(5137);let u=e=>{let t=(0,r.useQueryClient)();return(0,n.useMutation)({mutationFn:async e=>(await a.ON.login(e)).data,onSuccess:(s,r,n)=>{c.gN.setTokens({accessToken:s.accessToken,refreshToken:s.refreshToken}),c.gN.setUser(s.user),t.setQueryData(o.U7.AUTH.USER,s.user),t.invalidateQueries({queryKey:o.U7.AUTH.USER}),e?.onSuccess?.(s)},onError:(t,s,r)=>{let n=(0,i.Lr)(t);e?.onError?.(n)},onSettled:e?.onSettled,retry:e?.retry??!1})},l=e=>{let t=(0,r.useQueryClient)();return(0,n.useMutation)({mutationFn:async e=>(await a.ON.register(e)).data,onSuccess:(s,r,n)=>{c.gN.setTokens({accessToken:s.accessToken,refreshToken:s.refreshToken}),c.gN.setUser(s.user),t.setQueryData(o.U7.AUTH.USER,s.user),t.invalidateQueries({queryKey:o.U7.AUTH.USER}),e?.onSuccess?.(s)},onError:(t,s,r)=>{let n=(0,i.Lr)(t);e?.onError?.(n)},onSettled:e?.onSettled,retry:e?.retry??!1})},d=e=>{let t=(0,r.useQueryClient)();return(0,n.useMutation)({mutationFn:async()=>{try{await a.ON.logout()}catch(e){console.warn("Logout API call failed:",e)}},onSuccess:(s,r,n)=>{c.gN.clearAll(),t.clear(),t.setQueryData(o.U7.AUTH.USER,null),e?.onSuccess?.(s)},onError:(t,s,r)=>{let n=(0,i.Lr)(t);e?.onError?.(n)},onSettled:e?.onSettled,retry:e?.retry??!1})},p=e=>{let t=(0,r.useQueryClient)();return(0,n.useMutation)({mutationFn:async e=>(await a.ON.refreshToken({refreshToken:e})).data,onSuccess:(s,r,n)=>{c.gN.setTokens({accessToken:s.accessToken,refreshToken:s.refreshToken}),t.invalidateQueries({queryKey:o.U7.AUTH.USER}),e?.onSuccess?.(s)},onError:(s,r,n)=>{c.gN.clearAll(),t.clear();let a=(0,i.Lr)(s);e?.onError?.(a)},onSettled:e?.onSettled,retry:e?.retry??!1})},h=e=>{let t=(0,r.useQueryClient)();return(0,n.useMutation)({mutationFn:async e=>(await a.ON.updateProfile(e)).data,onSuccess:(s,r,n)=>{c.gN.setUser(s),t.setQueryData(o.U7.AUTH.USER,s),t.invalidateQueries({queryKey:o.U7.AUTH.USER}),e?.onSuccess?.(s)},onError:(t,s,r)=>{let n=(0,i.Lr)(t);e?.onError?.(n)},onSettled:e?.onSettled,retry:e?.retry??!1})},g=e=>(0,n.useMutation)({mutationFn:async e=>(await a.ON.changePassword(e)).data,onSuccess:(t,s,r)=>{e?.onSuccess?.(t)},onError:(t,s,r)=>{let n=(0,i.Lr)(t);e?.onError?.(n)},onSettled:e?.onSettled,retry:e?.retry??!1})},2473:(e,t,s)=>{"use strict";s(1631),s(8936)},4681:(e,t,s)=>{"use strict";s.d(t,{Hz:()=>a.Hz,TW:()=>n.TW,gN:()=>r.gN,y8:()=>o.y8,f0:()=>o.f0,aU:()=>o.aU,ZU:()=>o.ZU,mr:()=>o.mr,Gn:()=>o.Gn});var r=s(5137),n=s(4739),a=s(8936);s(1631);var o=s(9303);s(2473)},1631:(e,t,s)=>{"use strict";s.d(t,{ON:()=>o});var r=s(5137),n=s(8936);class a{async login(e){return r.x1.post(n.Pn.AUTH.LOGIN,e)}async register(e){return r.x1.post(n.Pn.AUTH.REGISTER,e)}async logout(){return r.x1.post(n.Pn.AUTH.LOGOUT)}async refreshToken(e){return r.x1.post(n.Pn.AUTH.REFRESH_TOKEN,e)}async getCurrentUser(){return r.x1.get(n.Pn.AUTH.USER)}async updateProfile(e){return r.x1.put(n.Pn.AUTH.PROFILE,e)}async changePassword(e){return r.x1.put(n.Pn.AUTH.CHANGE_PASSWORD,e)}async verifyToken(){return r.x1.get("/api/auth/verify")}async requestPasswordReset(e){return r.x1.post("/api/auth/forgot-password",{email:e})}async resetPassword(e,t){return r.x1.post("/api/auth/reset-password",{token:e,newPassword:t})}}let o=new a;class i{async getTools(e){return r.x1.get(n.Pn.TOOLS.BASE,e)}async getToolById(e){return r.x1.get(n.Pn.TOOLS.BY_ID(e))}async getCategories(){return r.x1.get(n.Pn.TOOLS.CATEGORIES)}async searchTools(e,t){let s={query:e,...t};return r.x1.get("/api/tools/search",s)}async getFeaturedTools(){return r.x1.get("/api/tools/featured")}async getToolsByCategory(e,t){return r.x1.get(`/api/tools/category/${e}`,t)}async getPopularTools(e){return r.x1.get("/api/tools/popular",e?{limit:e}:void 0)}async getRecommendedTools(){return r.x1.get("/api/tools/recommended")}async getToolStatistics(e){return r.x1.get(`/api/tools/${e}/statistics`)}async getSimilarTools(e,t){return r.x1.get(`/api/tools/${e}/similar`,t?{limit:t}:void 0)}}new i;class c{async createPurchase(e){return r.x1.post(n.Pn.PURCHASES.BASE,e)}async getUserPurchases(e){return r.x1.get(n.Pn.PURCHASES.BASE,e)}async getPurchaseById(e){return r.x1.get(n.Pn.PURCHASES.BY_ID(e))}async changeKey(e,t){return r.x1.put(n.Pn.PURCHASES.CHANGE_KEY(e),t)}async getPurchaseHistory(e){return r.x1.get("/api/purchases/history",e)}async verifyKey(e,t){return r.x1.post(`/api/purchases/${e}/verify`,{key:t})}async getPurchaseStatistics(){return r.x1.get("/api/purchases/statistics")}async renewPurchase(e){return r.x1.post(`/api/purchases/${e}/renew`)}async cancelPurchase(e,t){return r.x1.post(`/api/purchases/${e}/cancel`,{reason:t})}async downloadReceipt(e){return r.x1.get(`/api/purchases/${e}/receipt`)}async getActivePurchases(){return r.x1.get("/api/purchases/active")}async getExpiredPurchases(){return r.x1.get("/api/purchases/expired")}}new c;class u{async createDeposit(e){return r.x1.post(n.Pn.PAYMENTS.DEPOSIT,e)}async getPaymentHistory(e){return r.x1.get(n.Pn.PAYMENTS.HISTORY,e)}async getPayments(e){return r.x1.get(n.Pn.PAYMENTS.BASE,e)}async getPaymentById(e){return r.x1.get(`/api/payments/${e}`)}async getUserBalance(){return r.x1.get("/api/payments/balance")}async getPaymentStatistics(){return r.x1.get("/api/payments/statistics")}async verifyPayment(e){return r.x1.post(`/api/payments/${e}/verify`)}async cancelPayment(e,t){return r.x1.post(`/api/payments/${e}/cancel`,{reason:t})}async refundPayment(e,t,s){return r.x1.post(`/api/payments/${e}/refund`,{amount:t,reason:s})}async getPendingPayments(){return r.x1.get("/api/payments/pending")}async getCompletedPayments(){return r.x1.get("/api/payments/completed")}async getFailedPayments(){return r.x1.get("/api/payments/failed")}async retryPayment(e){return r.x1.post(`/api/payments/${e}/retry`)}async downloadReceipt(e){return r.x1.get(`/api/payments/${e}/receipt`)}async updatePaymentMethod(e){return r.x1.put("/api/payments/payment-method",e)}}new u;class l{async validateDiscountCode(e){return r.x1.post(n.Pn.DISCOUNT_CODES.VALIDATE,e)}async getDiscountCodes(e){return r.x1.get(n.Pn.DISCOUNT_CODES.BASE,e)}async getDiscountCodeById(e){return r.x1.get(`/api/discount-codes/${e}`)}async createDiscountCode(e){return r.x1.post(n.Pn.DISCOUNT_CODES.BASE,e)}async updateDiscountCode(e,t){return r.x1.put(`/api/discount-codes/${e}`,t)}async deleteDiscountCode(e){return r.x1.delete(`/api/discount-codes/${e}`)}async getActiveDiscountCodes(){return r.x1.get("/api/discount-codes/active")}async getExpiredDiscountCodes(){return r.x1.get("/api/discount-codes/expired")}async getDiscountCodeStatistics(e){return r.x1.get(`/api/discount-codes/${e}/statistics`)}async bulkCreateDiscountCodes(e){return r.x1.post("/api/discount-codes/bulk",{codes:e})}async applyDiscountCode(e,t){return r.x1.post("/api/discount-codes/apply",{code:e,toolId:t})}async getUserDiscountCodes(){return r.x1.get("/api/discount-codes/user")}}new l;class d{async getStatistics(){return r.x1.get(n.Pn.ADMIN.STATISTICS)}async getUsers(e){return r.x1.get(n.Pn.ADMIN.USERS,e)}async getUserById(e){return r.x1.get(`/api/admin/users/${e}`)}async updateUser(e,t){return r.x1.put(`/api/admin/users/${e}`,t)}async deleteUser(e){return r.x1.delete(`/api/admin/users/${e}`)}async banUser(e,t){return r.x1.post(`/api/admin/users/${e}/ban`,{reason:t})}async unbanUser(e){return r.x1.post(`/api/admin/users/${e}/unban`)}async getTools(e){return r.x1.get(n.Pn.ADMIN.TOOLS,e)}async createTool(e){return r.x1.post(n.Pn.ADMIN.TOOLS,e)}async updateTool(e,t){return r.x1.put(`/api/admin/tools/${e}`,t)}async deleteTool(e){return r.x1.delete(`/api/admin/tools/${e}`)}async getCategories(e){return r.x1.get(n.Pn.ADMIN.CATEGORIES,e)}async createCategory(e){return r.x1.post(n.Pn.ADMIN.CATEGORIES,e)}async updateCategory(e,t){return r.x1.put(`/api/admin/categories/${e}`,t)}async deleteCategory(e){return r.x1.delete(`/api/admin/categories/${e}`)}async getKeyValidations(e){return r.x1.get(n.Pn.ADMIN.VALIDATIONS,e)}async createKeyValidation(e){return r.x1.post(n.Pn.ADMIN.VALIDATIONS,e)}async getSystemLogs(e){return r.x1.get("/api/admin/logs",e)}async getRevenueStatistics(e){return r.x1.get("/api/admin/revenue",e?{period:e}:void 0)}async getUserActivityStatistics(){return r.x1.get("/api/admin/user-activity")}async exportData(e,t){return r.x1.post("/api/admin/export",{type:e,format:t})}async importData(e,t){let s=new FormData;return s.append("file",t),s.append("type",e),r.x1.post("/api/admin/import",s,{headers:{"Content-Type":"multipart/form-data"}})}async updateSystemSettings(e){return r.x1.put("/api/admin/settings",e)}async getSystemSettings(){return r.x1.get("/api/admin/settings")}}new d},5957:(e,t,s)=>{"use strict";s.d(t,{Eh:()=>u,Nv:()=>c});var r=s(8113),n=s(4681);let a=n.Hz.BASE_URL,o=n.gN.getTokens;async function i(e){if(!e.ok){let t=await e.text()||e.statusText;throw Error(`${e.status}: ${t}`)}}async function c(e,t,s){let r=o(),n={"Content-Type":"application/json"};r?.accessToken&&(n.Authorization=`Bearer ${r.accessToken}`);let c=t.startsWith("http")?t:`${a}${t}`,u=await fetch(c,{method:e,headers:n,body:s?JSON.stringify(s):void 0,credentials:"include"});return await i(u),u}n.gN.setTokens,n.gN.getUser,n.gN.setUser;let u=new r.S({defaultOptions:{queries:{queryFn:(({on401:e})=>async({queryKey:t})=>{let s=o(),r={};s?.accessToken&&(r.Authorization=`Bearer ${s.accessToken}`);let n=t.join("/"),c=n.startsWith("http")?n:`${a}${n}`,u=await fetch(c,{headers:r,credentials:"include"});return"returnNull"===e&&401===u.status?null:(await i(u),await u.json())})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}})},1867:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var r=s(1135),n=s(1009);function a(...e){return(0,n.m6)((0,r.W)(e))}},7658:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,metadata:()=>c});var r=s(9510),n=s(5384),a=s.n(n),o=s(8570);let i=(0,o.createProxy)(String.raw`D:\TOOL\AutoHubWeb\frontend\src\app\providers\AppProviders.tsx#AppProviders`);(0,o.createProxy)(String.raw`D:\TOOL\AutoHubWeb\frontend\src\app\providers\ThemeProvider.tsx#ThemeProvider`),(0,o.createProxy)(String.raw`D:\TOOL\AutoHubWeb\frontend\src\app\providers\ThemeProvider.tsx#useTheme`),s(4315);let c={title:"AutoHubWeb",description:"AutoHubWeb - Your tool platform"};function u({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:a().className,children:r.jsx(i,{children:e})})})}},1930:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(9510);function n(){return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})})}},2523:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(9510),n=s(7371);function a(){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Not Found"}),r.jsx("p",{className:"mb-4",children:"Could not find requested resource"}),r.jsx(n.default,{href:"/",className:"text-blue-500 hover:underline",children:"Return Home"})]})}},4315:()=>{}};